{"ast":null,"code":"var _jsxFileName = \"/home/pedro/Documents/Gest-o_veiculos/client/src/Components/Pages/Profile/index.tsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\n// CSS\nimport './Profile.css';\n\n// Toatfy\n\n// Layouts\nimport Header from \"../../Layouts/Header\";\nimport Title from \"../../Layouts/Title\";\nimport Input from \"../../Layouts/Input\";\n\n// Icons\nimport { FiSettings } from \"react-icons/fi\";\n\n// API\nimport { api } from \"../../../utils/api\";\n\n// Context\nimport { AuthContext } from \"../../../Contexts/auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Profile = () => {\n  _s();\n  const {\n    company\n  } = useContext(AuthContext);\n  const navigate = useNavigate();\n  const [companyEdit, setCompanyEdit] = useState({});\n  useEffect(() => {\n    api.get('company/edit', {\n      headers: {\n        session: JSON.parse(localStorage.getItem('@session')),\n        email: company.email\n      }\n    }).then(res => {\n      setCompanyEdit(res.data);\n    });\n  }, []);\n  const handleOnChange = e => {\n    setCompanyEdit({\n      ...companyEdit,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    let data = {\n      name: companyEdit.name,\n      email: companyEdit.email\n    };\n    if (companyEdit.password) {\n      data = {\n        ...data,\n        password: companyEdit.password,\n        confirmpassword: companyEdit.confirmpassword\n      };\n    }\n    await api.patch();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        name: \"Minha conta\",\n        children: /*#__PURE__*/_jsxDEV(FiSettings, {\n          size: 25\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), companyEdit && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"form-profile\",\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            type: \"text\",\n            name: \"name\",\n            placeholder: \"Seu nome\",\n            value: companyEdit.name ? companyEdit.name : '',\n            text: \"Nome\",\n            handleOnChange: handleOnChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: \"email\",\n            name: \"email\",\n            placeholder: \"Seu email\",\n            value: companyEdit.email ? companyEdit.email : '',\n            text: \"Email\",\n            handleOnChange: handleOnChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: \"password\",\n            name: \"password\",\n            placeholder: \"Seu senha (opicional)\",\n            value: companyEdit.password ? companyEdit.password : '',\n            text: \"Senha\",\n            handleOnChange: handleOnChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: \"password\",\n            name: \"confirmpassword\",\n            placeholder: \"Confirme sua senha (opicional)\",\n            value: companyEdit.confirmpassword ? companyEdit.confirmpassword : '',\n            text: \"Confirma\\xE7\\xE3o de senha\",\n            handleOnChange: handleOnChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Salvar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n};\n_s(Profile, \"n7zAO7cgXTgS4KaiHdO8oNjYCXg=\", false, function () {\n  return [useNavigate];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useContext","useState","useEffect","useNavigate","Header","Title","Input","FiSettings","api","AuthContext","jsxDEV","_jsxDEV","Profile","_s","company","navigate","companyEdit","setCompanyEdit","get","headers","session","JSON","parse","localStorage","getItem","email","then","res","data","handleOnChange","e","target","name","value","handleSubmit","preventDefault","password","confirmpassword","patch","children","fileName","_jsxFileName","lineNumber","columnNumber","className","size","onSubmit","type","placeholder","text","_c","$RefreshReg$"],"sources":["/home/pedro/Documents/Gest-o_veiculos/client/src/Components/Pages/Profile/index.tsx"],"sourcesContent":["import React, { FormEvent, useContext, useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\n// CSS\nimport './Profile.css';\n\n// Toatfy\nimport { toast } from 'react-toastify';\n\n// Layouts\nimport Header from \"../../Layouts/Header\";\nimport Title from \"../../Layouts/Title\";\nimport Input from \"../../Layouts/Input\";\n\n// Icons\nimport { FiSettings, FiUpload } from \"react-icons/fi\";\n\n// API\nimport { api } from \"../../../utils/api\";\n\n// Context\nimport { AuthContext } from \"../../../Contexts/auth\";\n\nconst Profile = () => {\n    const { company } = useContext<any>(AuthContext);\n    const navigate = useNavigate();\n    const [companyEdit, setCompanyEdit] = useState<any>({});\n\n    useEffect(() => {\n        api.get('company/edit', {\n            headers: {\n                session: JSON.parse(localStorage.getItem('@session')!),\n                email: company.email\n            }\n        })\n        .then((res : any) => {\n            setCompanyEdit(res.data);\n        })\n    }, []);\n\n    const handleOnChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setCompanyEdit({...companyEdit, [e.target.name]: e.target.value});\n    }\n\n    const handleSubmit = async (e: FormEvent<HTMLFormElement>) => {\n        e.preventDefault();\n\n        let data: {} = {\n            name: companyEdit.name,\n            email: companyEdit.email\n        }\n\n        if(companyEdit.password){\n            data = {\n                ...data, \n                password: companyEdit.password,\n                confirmpassword: companyEdit.confirmpassword\n            }\n        }\n\n        await api.patch()\n\n    }\n\n    return (\n        <div>\n            <Header />\n            <div className=\"content\">\n                <Title name='Minha conta'> \n                    <FiSettings size={25}/>\n                </Title>\n\n                {companyEdit && (\n                    <div className=\"container\">\n                        <form className=\"form-profile\" onSubmit={handleSubmit}>\n                            <Input \n                                type=\"text\" \n                                name=\"name\" \n                                placeholder=\"Seu nome\" \n                                value={companyEdit.name? companyEdit.name : ''} \n                                text=\"Nome\"\n                                handleOnChange={handleOnChange}\n                            />\n\n                            <Input \n                                type=\"email\" \n                                name=\"email\" \n                                placeholder=\"Seu email\" \n                                value={companyEdit.email? companyEdit.email : ''} \n                                text=\"Email\"\n                                handleOnChange={handleOnChange}\n                            />\n\n                            <Input \n                                type=\"password\" \n                                name=\"password\" \n                                placeholder=\"Seu senha (opicional)\" \n                                value={companyEdit.password? companyEdit.password : ''} \n                                text=\"Senha\"\n                                handleOnChange={handleOnChange}\n                            />\n\n                            <Input \n                                type=\"password\" \n                                name=\"confirmpassword\" \n                                placeholder=\"Confirme sua senha (opicional)\" \n                                value={companyEdit.confirmpassword? companyEdit.confirmpassword : ''} \n                                text=\"Confirmação de senha\"\n                                handleOnChange={handleOnChange}\n                            />\n\n                            <button type=\"submit\">Salvar</button>\n\n                        </form>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n\nexport default Profile;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}